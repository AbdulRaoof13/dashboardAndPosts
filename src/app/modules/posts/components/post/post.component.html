<section class="flex flex-col bg-gray-30 p-4">

    <div class="flex flex-col md:flex-row md:justify-between mb-2">
        <div>
            <h2 class="text-4xl text-indigo-600 mb-2 md:mb-0">
                Posts ({{posts.length}})
            </h2>
        </div>

        <div>
            <input name="searchPost" [(ngModel)]="searchPost"
                class="text-sm text-gray-800 bg-white border rounded leading-5 py-2 px-3 border-gray-200 hover:border-gray-300 focus:border-indigo-300 shadow-sm placeholder-gray-400 focus:ring-0 w-full"
                type="search" placeholder="Search Post" />
        </div>
    </div>

    <div class="h-full">
        @for (post of posts | search: searchPost; track post.id) {
        <!-- Card -->
        @defer (on viewport; prefetch on idle) {
        <div class="bg-indigo-600 shadow-lg rounded-lg">
            <div class="px-6 py-5 my-3">
                <div class="flex items-start">
                    <!-- Card content -->
                    <div class="flex-grow truncate">
                        <!-- Card header -->
                        <div class="w-full sm:flex justify-between items-center mb-3">
                            <!-- Title -->
                            <h2 class="text-2xl leading-snug font-extrabold text-gray-50 truncate mb-1 sm:mb-0">
                                {{post.title}}
                            </h2>
                        </div>
                        <!-- Card body -->
                        <div class="flex items-end justify-between whitespace-normal">
                            <!-- Paragraph -->
                            <div class="max-w-md text-indigo-100">
                                <p class="mb-2">{{post.body}}</p>
                            </div>
                            <!-- More link -->
                            <a class="flex-shrink-0 flex items-center justify-center text-indigo-600 w-10 h-10 rounded-full bg-gradient-to-b from-indigo-50 to-indigo-100 hover:from-white hover:to-indigo-50 focus:outline-none focus-visible:from-white focus-visible:to-white transition duration-150 ml-2"
                                href="#0">
                                <span class="block font-bold"><span class="sr-only">Read more</span> -></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        }
        @placeholder {
            <div class="bg-indigo-600 shadow-lg rounded-lg">
                <div class="px-6 py-5 my-3">
                    <div class="flex items-start">
                        <!-- Card content -->
                        <div class="flex-grow truncate">
                            <!-- Card header -->
                            <div class="w-3/5 bg-slate-400 sm:flex justify-between items-center mb-3">
                                <!-- Title -->
                            </div>
                            <!-- Card body -->
                            <div class="flex items-end justify-between whitespace-normal">
                                <!-- Paragraph -->
                                <div class="max-w-md bg-slate-400 text-indigo-100">
                                    
                                </div>
                                <!-- More link -->
                                <a class="flex-shrink-0 flex items-center justify-center text-indigo-600 w-10 h-10 rounded-full bg-gradient-to-b from-indigo-50 to-indigo-100 hover:from-white hover:to-indigo-50 focus:outline-none focus-visible:from-white focus-visible:to-white transition duration-150 ml-2"
                                    href="#0">
                                    <span class="block font-bold"><span class="sr-only">Read more</span> -></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
        }
        @empty {
        <div class="text-lg text-center">
            <h3>No Posts Found</h3>
        </div>
        }
    </div>

</section>

<p-toast></p-toast>